{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');const[isRegistering,setIsRegistering]=useState(false);const handleSubmit=async e=>{e.preventDefault();try{const endpoint=isRegistering?'register':'login';const response=await fetch(\"http://localhost:8000/auth/\".concat(endpoint),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});const data=await response.json();if(response.ok){if(isRegistering){setMessage('Registration successful');}else if(data.access_token){localStorage.setItem('token',data.access_token);setMessage('Login successful');}}else{setMessage(data.detail||'Request failed');}}catch(error){console.error('Error during request:',error);setMessage('An error occurred');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:isRegistering?'Register':'Login'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isRegistering?'Register':'Login'})]}),/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRegistering(!isRegistering),children:isRegistering?'Back to Login':'Register'})]});};export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","username","setUsername","password","setPassword","message","setMessage","isRegistering","setIsRegistering","handleSubmit","e","preventDefault","endpoint","response","fetch","concat","method","headers","body","JSON","stringify","data","json","ok","access_token","localStorage","setItem","detail","error","console","className","children","onSubmit","type","placeholder","value","onChange","target","onClick"],"sources":["/Users/augusttan/authentication_page/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst App = () => {\n   const [username, setUsername] = useState('');\n   const [password, setPassword] = useState('');\n   const [message, setMessage] = useState('');\n   const [isRegistering, setIsRegistering] = useState(false);\n\n   const handleSubmit = async (e) => {\n       e.preventDefault();\n       try {\n           const endpoint = isRegistering ? 'register' : 'login';\n           const response = await fetch(`http://localhost:8000/auth/${endpoint}`, {\n               method: 'POST',\n               headers: {\n                   'Content-Type': 'application/json',\n               },\n               body: JSON.stringify({ username, password }),\n           });\n\n           const data = await response.json();\n\n           if (response.ok) {\n               if (isRegistering) {\n                   setMessage('Registration successful');\n               } else if (data.access_token) {\n                   localStorage.setItem('token', data.access_token);\n                   setMessage('Login successful');\n               }\n           } else {\n               setMessage(data.detail || 'Request failed');\n           }\n       } catch (error) {\n           console.error('Error during request:', error);\n           setMessage('An error occurred');\n       }\n   };\n\n   return (\n       <div className=\"login-container\">\n           <h1>{isRegistering ? 'Register' : 'Login'}</h1>\n           <form onSubmit={handleSubmit}>\n               <input\n                   type=\"text\"\n                   placeholder=\"Username\"\n                   value={username}\n                   onChange={(e) => setUsername(e.target.value)}\n               />\n               <input\n                   type=\"password\"\n                   placeholder=\"Password\"\n                   value={password}\n                   onChange={(e) => setPassword(e.target.value)}\n               />\n               <button type=\"submit\">{isRegistering ? 'Register' : 'Login'}</button>\n           </form>\n           <p>{message}</p>\n           <button onClick={() => setIsRegistering(!isRegistering)}>\n               {isRegistering ? 'Back to Login' : 'Register'}\n           </button>\n       </div>\n   );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}