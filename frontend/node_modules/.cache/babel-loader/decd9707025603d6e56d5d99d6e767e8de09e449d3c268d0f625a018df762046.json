{"ast":null,"code":"var _jsxFileName = \"/Users/augusttan/authentication_page/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // State variables\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [isRegistering, setIsRegistering] = useState(false);\n\n  // Function to handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault(); // Prevent the default form submission behavior\n\n    try {\n      // Determine the endpoint based on registration mode [register/login]\n      const endpoint = isRegistering ? 'register' : 'login';\n      const response = await fetch(`http://localhost:8000/auth/${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json' // Set the content type to JSON\n        },\n        body: JSON.stringify({\n          username,\n          password\n        }) // Send username and password\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // If registration is successful. Yeah!\n        if (isRegistering) {\n          setMessage('Registration successful');\n        } else if (data.access_token) {\n          // If login is successful and access token is received. Double Yeah!\n          localStorage.setItem('token', data.access_token); // Store the token in localStorage\n          setMessage('Login successful');\n        }\n      } else {\n        // Display error message\n        setMessage(data.detail || 'Request failed');\n      }\n    } catch (error) {\n      // Handle any errors that occur during the request\n      console.error('Error during request:', error);\n      setMessage('An error occurred');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isRegistering ? 'Register' : 'Login'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Username\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: isRegistering ? 'Register' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsRegistering(!isRegistering),\n      children: isRegistering ? 'Back to Login' : 'Register'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"MHtlBb6n8tddoyiY/uuRGuYFcl4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","App","_s","username","setUsername","password","setPassword","message","setMessage","isRegistering","setIsRegistering","handleSubmit","e","preventDefault","endpoint","response","fetch","method","headers","body","JSON","stringify","data","json","ok","access_token","localStorage","setItem","detail","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["/Users/augusttan/authentication_page/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst App = () => {\n    // State variables\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n    const [isRegistering, setIsRegistering] = useState(false);\n\n    // Function to handle form submission\n    const handleSubmit = async (e) => {\n        e.preventDefault(); // Prevent the default form submission behavior\n\n        try {\n            // Determine the endpoint based on registration mode [register/login]\n            const endpoint = isRegistering ? 'register' : 'login';\n            const response = await fetch(`http://localhost:8000/auth/${endpoint}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json', // Set the content type to JSON\n                },\n                body: JSON.stringify({ username, password }), // Send username and password\n            });\n\n            const data = await response.json();\n\n            if (response.ok) {\n                // If registration is successful. Yeah!\n                if (isRegistering) {\n                    setMessage('Registration successful');\n                } else if (data.access_token) {\n                    // If login is successful and access token is received. Double Yeah!\n                    localStorage.setItem('token', data.access_token); // Store the token in localStorage\n                    setMessage('Login successful');\n                }\n            } else {\n                // Display error message\n                setMessage(data.detail || 'Request failed');\n            }\n        } catch (error) {\n            // Handle any errors that occur during the request\n            console.error('Error during request:', error);\n            setMessage('An error occurred');\n        }\n    };\n\n    return (\n        <div className=\"login-container\">\n            {/* Display title based on registration mode */}\n            <h1>{isRegistering ? 'Register' : 'Login'}</h1>\n            <form onSubmit={handleSubmit}>\n                {/* Input field for username */}\n                <input\n                    type=\"text\"\n                    placeholder=\"Username\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                />\n                {/* Input field for password */}\n                <input\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n                {/* Submit button */}\n                <button type=\"submit\">{isRegistering ? 'Register' : 'Login'}</button>\n            </form>\n            {/* Display message to the user */}\n            <p>{message}</p>\n            {/* Toggle between login and registration mode */}\n            <button onClick={() => setIsRegistering(!isRegistering)}>\n                {isRegistering ? 'Back to Login' : 'Register'}\n            </button>\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}